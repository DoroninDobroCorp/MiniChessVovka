# –ë—É–¥—É—â–∏–µ –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è Mini Chess 6x6 Crazyhouse

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Å–∏–ª—ã AI, —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞.

---

## üöÄ –°—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è + –±–æ–ª—å—à–æ–π —ç—Ñ—Ñ–µ–∫—Ç)

### 1. Opening Book (–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–µ–±—é—Ç–æ–≤)
**–ü—Ä–æ–±–ª–µ–º–∞:** AI —Ç—Ä–∞—Ç–∏—Ç 10-60 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Ä–∞—Å—á—ë—Ç –ø–µ—Ä–≤—ã—Ö 5-8 —Ö–æ–¥–æ–≤, —Ö–æ—Ç—è –¥–µ–±—é—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Ö–æ—Ä–æ—à–æ –∏–∑—É—á–µ–Ω—ã.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ 50-100 –ª—É—á—à–∏—Ö –¥–µ–±—é—Ç–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä–≤—ã–µ 5-8 —Ö–æ–¥–æ–≤ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –¥–µ–±—é—Ç–æ–≤
- –§–æ—Ä–º–∞—Ç: SQLite —Ç–∞–±–ª–∏—Ü–∞ `openings(position_hash, move, frequency)`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
def load_opening_book():
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–µ–±—é—Ç–Ω—É—é –∫–Ω–∏–≥—É –∏–∑ opening_book.db"""
    conn = sqlite3.connect('opening_book.db')
    # ... –∑–∞–≥—Ä—É–∑–∫–∞
    
def get_opening_move(position_hash):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ–±—é—Ç–Ω—ã–π —Ö–æ–¥ –µ—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≤ –∫–Ω–∏–≥–µ"""
    return opening_book.get(position_hash)
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ö° –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–≤—ã–µ 5-8 —Ö–æ–¥–æ–≤ (0.01—Å –≤–º–µ—Å—Ç–æ 10-60—Å)
- üìà –ë–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–≥—Ä–∞ –≤ –¥–µ–±—é—Ç–µ

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-4 —á–∞—Å–∞

---

### 2. Aspiration Windows
**–ü—Ä–æ–±–ª–µ–º–∞:** Iterative deepening —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ aspiration windows, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç –ø–æ–∏—Å–∫.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å "–æ–∫–Ω–∞ –æ–∂–∏–¥–∞–Ω–∏—è" –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∑–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω [alpha, beta] –≤–æ–∫—Ä—É–≥ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã - —Ä–∞—Å—à–∏—Ä—è—Ç—å –æ–∫–Ω–æ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ find_best_move, –≤–Ω—É—Ç—Ä–∏ iterative deepening
aspiration_window = 50
for d in range(1, depth + 1):
    if d >= 4 and best_score is not None:
        alpha = best_score - aspiration_window
        beta = best_score + aspiration_window
    else:
        alpha, beta = -float('inf'), float('inf')
    
    score, move = minimax_alpha_beta(gamestate, d, alpha, beta, is_maximizing)
    
    # –ï—Å–ª–∏ –≤—ã—à–ª–∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã - –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Å –ø–æ–ª–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏
    if score <= alpha or score >= beta:
        score, move = minimax_alpha_beta(gamestate, d, -float('inf'), float('inf'), is_maximizing)
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ö° +20-30% —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤ –º–∏–¥–≥–µ–π–º–µ
- üìâ –ú–µ–Ω—å—à–µ —É–∑–ª–æ–≤ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 1-2 —á–∞—Å–∞

---

### 3. Null-Move Pruning
**–ü—Ä–æ–±–ª–µ–º–∞:** AI –∏—Å—Å–ª–µ–¥—É–µ—Ç –≤—Å–µ —Ö–æ–¥—ã –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø–æ–∑–∏—Ü–∏—è —è–≤–Ω–æ –≤—ã–∏–≥—Ä—ã—à–Ω–∞—è.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥ (null move)
- –ï—Å–ª–∏ –¥–∞–∂–µ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ–∑–∏—Ü–∏—è –≤—ã–∏–≥—Ä—ã—à–Ω–∞—è - –º–æ–∂–Ω–æ –æ—Ç—Å–µ—á—å –≤–µ—Ç–∫—É
- –£–º–µ–Ω—å—à–∏—Ç—å –≥–ª—É–±–∏–Ω—É –ø–æ–∏—Å–∫–∞ –Ω–∞ 2-3 –ø—Ä–∏ null-move

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
def minimax_alpha_beta(gamestate, depth, alpha, beta, maximizing_player):
    # ... existing code ...
    
    # Null-move pruning (–¥–ª—è –Ω–µ-–∫–æ–Ω—Ü–µ–≤—ã—Ö —É–∑–ª–æ–≤ –∏ –Ω–µ-PV —É–∑–ª–æ–≤)
    if depth >= 3 and not gamestate.is_in_check(gamestate.current_turn):
        # –°–∏–º—É–ª–∏—Ä—É–µ–º –ø—Ä–æ–ø—É—Å–∫ —Ö–æ–¥–∞
        gamestate.current_turn = get_opposite_color(gamestate.current_turn)
        null_score = -minimax_alpha_beta(gamestate, depth - 3, -beta, -beta + 1, not maximizing_player)
        gamestate.current_turn = get_opposite_color(gamestate.current_turn)
        
        if null_score >= beta:
            return beta  # –û—Ç—Å–µ—á–µ–Ω–∏–µ
    
    # ... rest of minimax ...
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ö° +30-50% —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞
- üéØ –û—Å–æ–±–µ–Ω–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤ —ç–Ω–¥—à–ø–∏–ª–µ

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-3 —á–∞—Å–∞

---

### 4. –ß–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** ~~–ú–Ω–æ–∂–µ—Å—Ç–≤–æ DEBUG –ø—Ä–∏–Ω—Ç–æ–≤ –∑–∞–º–µ–¥–ª—è—é—Ç —Ä–∞–±–æ—Ç—É~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- –î–æ–±–∞–≤–∏—Ç—å type hints –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ù–∞–ø–∏—Å–∞—Ç—å docstrings –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –ø–æ–∏—Å–∫–∞ —É–∑–∫–∏—Ö –º–µ—Å—Ç

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
import cProfile
cProfile.run('ai.find_best_move(gamestate, depth=16)', 'ai_profile.stats')

# –ê–Ω–∞–ª–∏–∑
import pstats
p = pstats.Stats('ai_profile.stats')
p.sort_stats('cumulative').print_stats(20)
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ~~‚ö° +5-10% —Å–∫–æ—Ä–æ—Å—Ç–∏~~ ‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ
- üßπ –ß–∏—Ç–∞–µ–º—ã–π –∫–æ–¥
- üìä –ü–æ–Ω–∏–º–∞–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 2-4 —á–∞—Å–∞

---

## üéØ –°—Ä–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã)

### 5. Late Move Reduction (LMR)
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ —Ö–æ–¥—ã –∏—Å—Å–ª–µ–¥—É—é—Ç—Å—è –Ω–∞ –ø–æ–ª–Ω—É—é –≥–ª—É–±–∏–Ω—É, –¥–∞–∂–µ —è–≤–Ω–æ –ø–ª–æ—Ö–∏–µ.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ—Å–ª–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª—É—á—à–∏—Ö —Ö–æ–¥–æ–≤ –Ω–∞ –ø–æ–ª–Ω—É—é –≥–ª—É–±–∏–Ω—É
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ö–æ–¥—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –Ω–∞ —É–º–µ–Ω—å—à–µ–Ω–Ω—É—é –≥–ª—É–±–∏–Ω—É (depth - 2)
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω —Ö–æ—Ä–æ—à–∏–π —Ö–æ–¥ - –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–∏—Å–∫ –Ω–∞ –ø–æ–ª–Ω—É—é –≥–ª—É–±–∏–Ω—É

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ö° +20-30% —Å–∫–æ—Ä–æ—Å—Ç–∏
- üéØ –ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å depth –Ω–∞ 1-2

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 4-6 —á–∞—Å–æ–≤

---

### 6. Principal Variation Search (PVS)
**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–≤—ã–π —Ö–æ–¥ –∏—Å—Å–ª–µ–¥—É–µ—Ç—Å—è —Å –ø–æ–ª–Ω—ã–º –æ–∫–Ω–æ–º [alpha, beta]
- –û—Å—Ç–∞–ª—å–Ω—ã–µ - —Å –Ω—É–ª–µ–≤—ã–º –æ–∫–Ω–æ–º [alpha, alpha+1] (scout search)
- –ü—Ä–∏ –æ–ø—Ä–æ–≤–µ—Ä–∂–µ–Ω–∏–∏ - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Å –ø–æ–ª–Ω—ã–º –æ–∫–Ω–æ–º

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ö° +15-25% —Å–∫–æ—Ä–æ—Å—Ç–∏
- üéØ –ë–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ª—É—á—à–∏—Ö —Ö–æ–¥–æ–≤

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 6-8 —á–∞—Å–æ–≤

---

### 7. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
**–¢–µ–∫—É—â–∞—è:** –ë–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ (–º–∞—Ç–µ—Ä–∏–∞–ª + –ø–æ–∑–∏—Ü–∏—è + —Ü–µ–Ω—Ç—Ä + –∫–æ—Ä–æ–ª—å)

**–î–æ–±–∞–≤–∏—Ç—å:**
- Mobility (–ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å —Ñ–∏–≥—É—Ä)
- King safety (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ—Ä–æ–ª—è)
- Piece coordination (–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ñ–∏–≥—É—Ä)
- Pawn shield (–ø–µ—à–µ—á–Ω—ã–π —â–∏—Ç –∫–æ—Ä–æ–ª—è)
- Outposts (—Ñ–æ—Ä–ø–æ—Å—Ç—ã –¥–ª—è –∫–æ–Ω–µ–π)

**–≠—Ñ—Ñ–µ–∫—Ç:**
- üìà +100-200 ELO
- üéØ –ë–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∞—è –∏–≥—Ä–∞

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 8-12 —á–∞—Å–æ–≤

---

## üî• –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–µ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç—ã)

### 8. Bitboards (–ë–∏—Ç–æ–≤—ã–µ –¥–æ—Å–∫–∏)
**–ü—Ä–æ–±–ª–µ–º–∞:** 2D –º–∞—Å—Å–∏–≤ `board[r][c]` –º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å–∫—É –∫–∞–∫ –Ω–∞–±–æ—Ä 64-–±–∏—Ç–Ω—ã—Ö —á–∏—Å–µ–ª (bitboards)
- –ö–∞–∂–¥–∞—è —Ñ–∏–≥—É—Ä–∞ - –æ—Ç–¥–µ–ª—å–Ω—ã–π bitboard
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (&, |, ^, ~, <<, >>)

**–ü—Ä–∏–º–µ—Ä:**
```python
class Bitboard:
    def __init__(self):
        self.white_pawns = 0b0000000000000000  # 6x6 = 36 –±–∏—Ç
        self.black_pawns = 0b0000000000000000
        # ... –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∏–≥—É—Ä—ã
    
    def get_piece_attacks(self, square):
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞—Ç–∞–∫—É–µ–º—ã–µ –∫–ª–µ—Ç–∫–∏ –∑–∞ O(1)"""
        return ATTACK_TABLES[piece_type][square]
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ö° **x10-20 —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –æ–ø–µ—Ä–∞—Ü–∏–π
- üéØ Depth 20-24 —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–º
- üìà +300-500 ELO –æ—Ç –≥–ª—É–±–∏–Ω—ã

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 40-80 —á–∞—Å–æ–≤ (–ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞)

---

### 9. Neural Network Evaluation
**–¢–µ–∫—É—â–µ–µ:** –†—É–∫–æ–ø–∏—Å–Ω–∞—è –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±—É—á–∏—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç—å –Ω–∞ self-play –ø–∞—Ä—Ç–∏—è—Ö
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: CNN –∏–ª–∏ Transformer
- –í—Ö–æ–¥: board state (6x6x12 –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∏–≥—É—Ä—ã)
- –í—ã—Ö–æ–¥: value (-1 –¥–æ +1) + policy (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Ö–æ–¥–æ–≤)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –£–∂–µ –µ—Å—Ç—å –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –≤ nn/model.py!
import torch
from nn.model import ChessNet

model = ChessNet()
model.load_state_dict(torch.load('best_model.pth'))

def nn_evaluate(board_state):
    tensor = board_to_tensor(board_state)
    with torch.no_grad():
        value, policy = model(tensor)
    return value.item()
```

**–û–±—É—á–µ–Ω–∏–µ:**
1. Self-play (AI –∏–≥—Ä–∞–µ—Ç —Å–∞–º —Å —Å–æ–±–æ–π)
2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä—Ç–∏–π
3. –û–±—É—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
4. –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (AlphaZero style)

**–≠—Ñ—Ñ–µ–∫—Ç:**
- üìà +300-500 ELO
- üéØ –ë–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- üß† –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–Ω–∫–∏—Ö –Ω—é–∞–Ω—Å–æ–≤

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 60-120 —á–∞—Å–æ–≤ + GPU –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

---

### 10. Monte Carlo Tree Search (MCTS) + NN
**–†–µ—à–µ–Ω–∏–µ:**
- –ö–æ–º–±–∏–Ω–∞—Ü–∏—è MCTS —Å –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤–æ–π –æ—Ü–µ–Ω–∫–æ–π (–∫–∞–∫ AlphaZero)
- –£–∂–µ –µ—Å—Ç—å –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –≤ `nn/mcts.py`!

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. Selection: –≤—ã–±–æ—Ä —É–∑–ª–∞ –ø–æ UCB
2. Expansion: —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–∑–ª–∞
3. Evaluation: –æ—Ü–µ–Ω–∫–∞ —á–µ—Ä–µ–∑ NN
4. Backpropagation: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–≠—Ñ—Ñ–µ–∫—Ç:**
- üìà +500-800 ELO
- üéØ ~2800-3000 ELO (—Ç–æ–ø–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å)
- üß† AlphaZero-–ø–æ–¥–æ–±–Ω–∞—è —Å–∏–ª–∞

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 80-150 —á–∞—Å–æ–≤ + GPU

---

### 11. Endgame Tablebase
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–µ–¥—Ä–∞—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ —Å ‚â§4 —Ñ–∏–≥—É—Ä–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (SQLite –∏–ª–∏ rocksDB)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–π –∏–≥—Ä—ã –≤ —ç–Ω–¥—à–ø–∏–ª–µ

**–§–æ—Ä–º–∞—Ç:**
```
position_hash -> {result: 'WIN/LOSS/DRAW', moves_to_mate: 12}
```

**–≠—Ñ—Ñ–µ–∫—Ç:**
- ‚ôüÔ∏è –ò–¥–µ–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ –≤ —ç–Ω–¥—à–ø–∏–ª–µ
- üìà +50-100 ELO –≤ —ç–Ω–¥—à–ø–∏–ª–µ
- ‚è±Ô∏è –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Ö–æ–¥—ã –≤ –ø—Ä–æ—Å—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 30-50 —á–∞—Å–æ–≤ + –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –ß–∏—Å—Ç–∫–∞ DEBUG –∫–æ–¥–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–æ)
2. Opening Book
3. Aspiration Windows
4. Null-Move Pruning

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** +40-60% —Å–∫–æ—Ä–æ—Å—Ç–∏, depth 18-20, ~2200-2400 ELO

---

### –§–∞–∑–∞ 2: –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (2-4 –Ω–µ–¥–µ–ª–∏)
5. Late Move Reduction
6. Principal Variation Search
7. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –µ—â–µ +30% —Å–∫–æ—Ä–æ—Å—Ç–∏, ~2400-2600 ELO

---

### –§–∞–∑–∞ 3: –ú–∞—Å—à—Ç–∞–±–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2-4 –º–µ—Å—è—Ü–∞)
8. Bitboards (–ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞)
9. Neural Network Evaluation
10. MCTS + NN (AlphaZero approach)
11. Endgame Tablebase

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ~2800-3200 ELO, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å

---

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### –î–ª—è –æ–±—É—á–µ–Ω–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π:
- PyTorch (—É–∂–µ –µ—Å—Ç—å –≤ requirements.txt)
- TensorBoard –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- CUDA –¥–ª—è GPU —É—Å–∫–æ—Ä–µ–Ω–∏—è

### –î–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ Python
python -m cProfile -o profile.stats main.py

# –ê–Ω–∞–ª–∏–∑
python -c "import pstats; pstats.Stats('profile.stats').sort_stats('cumulative').print_stats(30)"

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
pip install snakeviz
snakeviz profile.stats
```

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–ª—ã:
```python
# AI vs AI —Ç—É—Ä–Ω–∏—Ä
def tournament(ai_versions, games_per_pair=10):
    for ai1, ai2 in combinations(ai_versions, 2):
        results = play_matches(ai1, ai2, games_per_pair)
        print(f"{ai1.name} vs {ai2.name}: {results}")
```

---

## üìö –†–µ—Å—É—Ä—Å—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

### –®–∞—Ö–º–∞—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ:
- Chess Programming Wiki: https://www.chessprogramming.org
- Stockfish source code: https://github.com/official-stockfish/Stockfish
- Sunfish (–ø—Ä–æ—Å—Ç–æ–π –¥–≤–∏–∂–æ–∫ –Ω–∞ Python): https://github.com/thomasahle/sunfish

### AlphaZero / –ù–µ–π—Ä–æ—Å–µ—Ç–∏:
- AlphaZero paper: https://arxiv.org/abs/1712.01815
- Leela Chess Zero: https://lczero.org
- PyTorch tutorial: https://pytorch.org/tutorials/

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- Python Performance Tips: https://wiki.python.org/moin/PythonSpeed
- Numba (JIT compilation): http://numba.pydata.org

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- **–¢–µ–∫—É—â–∞—è —Å–∏–ª–∞:** ~2000-2200 ELO (depth 16)
- **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –±–µ–∑ –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π:** ~2600-2800 ELO (bitboards + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏:** ~3000-3200 ELO (MCTS + NN)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∞—á–Ω–∏—Ç–µ —Å –§–∞–∑—ã 1 (Opening Book, Aspiration, Null-Move) - —ç—Ç–æ –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –∑–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è.

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2024*  
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ø–æ—Å–ª–µ —á–∏—Å—Ç–∫–∏ DEBUG –∫–æ–¥–∞*
